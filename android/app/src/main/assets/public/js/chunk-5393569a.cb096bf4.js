(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5393569a"],{"44d5":function(e,t,n){"use strict";n("a6e7")},"5c98":function(e,t,n){e.exports=n.p+"img/default-image.440b9b23.jpg"},"6f23":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var a=n("7a23"),c={key:0,class:"event-main-container"},i={class:"event-menu-container"},l={class:"event-menu-container-right"},s={class:"event-meter"},r={class:"event-title-container"},u={class:"event-star"},o={class:"event-distance"},d={class:"event-address"},h={class:"event-chat-container"},b={class:"event-atendies"},v=Object(a["g"])("JOIN LIVE CHAT"),m={class:"event-content"};function f(e,t,n,f,j,O){var g=Object(a["B"])("ion-icon"),p=Object(a["B"])("ion-progress-bar"),w=Object(a["B"])("ion-button"),x=Object(a["B"])("skeleton-loader"),k=Object(a["B"])("ion-content"),y=Object(a["B"])("ion-page");return Object(a["u"])(),Object(a["e"])(y,null,{default:Object(a["K"])((function(){return[Object(a["h"])(k,{fullscreen:!0},{default:Object(a["K"])((function(){return[e.event&&"idle"===e.loadEvent?(Object(a["u"])(),Object(a["e"])("div",c,[Object(a["h"])("div",i,[Object(a["h"])(g,{src:e.shareSocial},null,8,["src"]),Object(a["h"])(g,{style:e.like?"color: yellow":"color: #fff",src:e.starImage,onClick:e.likeHandler},null,8,["style","src","onClick"]),Object(a["h"])(g,{style:e.attending?"color: yellow":"color: #fff",src:e.book,onClick:e.presentAlert},null,8,["style","src","onClick"])]),Object(a["h"])("div",l,[Object(a["h"])(g,{src:e.closeCircle,onClick:t[1]||(t[1]=function(t){return e.router.push("/map")})},null,8,["src"])]),Object(a["h"])("div",{class:"event-image-container",style:"background-image: url(".concat(e.event&&e.event.banner||e.defaultImage,")")},[Object(a["h"])("div",s,[Object(a["h"])(p,{value:(e.manCount.length+e.womanCount.length+e.unknownCount).length/100},null,8,["value"])])],4),Object(a["h"])("div",r,[Object(a["h"])("h5",null,Object(a["E"])(e.event&&e.event.title),1),Object(a["h"])("div",u,[Object(a["h"])(g,{src:e.starImage},null,8,["src"]),Object(a["h"])("span",null,Object(a["E"])(e.event.likes),1)]),Object(a["h"])("div",o,[Object(a["h"])("p",null,Object(a["E"])(e.event&&e.event.address),1),Object(a["h"])("p",{style:e.kmaway>50?"color: red":e.kmaway>10&&e.kmaway<21?"color: orange":e.kmaway>2&&e.kmaway<11?"color: skyblue":"color: white"},Object(a["E"])(e.kmaway)+" KM away ",5),Object(a["h"])("p",{style:"ended"===e.eventStatus?"color: red;":"Upcomming"===e.eventStatus?"color: yellow;":""}," ("+Object(a["E"])(e.eventStatus)+") ",5)]),Object(a["h"])("div",d,[Object(a["h"])("p",null,Object(a["E"])(e.event&&e.moment(e.event.startDate).format("ll"))+" - "+Object(a["E"])(e.event&&e.moment(e.event.endDate).format("ll")),1),Object(a["h"])("p",null,Object(a["E"])(e.event&&e.moment(e.event.startDate).format("ddd"))+" "+Object(a["E"])(e.event&&e.event.startTime)+" - "+Object(a["E"])(e.event&&e.moment(e.event.endDate).format("ddd"))+" "+Object(a["E"])(e.event&&e.event.endTime),1)])]),Object(a["h"])("div",h,[Object(a["h"])("div",b,[Object(a["h"])("span",null,[Object(a["h"])(g,{src:e.man},null,8,["src"]),Object(a["g"])(Object(a["E"])(e.manCount.length),1)]),Object(a["h"])("span",null,[Object(a["h"])(g,{src:e.woman},null,8,["src"]),Object(a["g"])(Object(a["E"])(e.womanCount.length),1)]),Object(a["h"])("span",null,[Object(a["h"])(g,{src:e.help},null,8,["src"]),Object(a["g"])(Object(a["E"])(e.unknownCount.length),1)])]),Object(a["h"])(w,null,{default:Object(a["K"])((function(){return[v]})),_:1})]),Object(a["h"])("div",m,[Object(a["h"])("p",null,Object(a["E"])(e.event&&e.event.description),1)])])):(Object(a["u"])(),Object(a["e"])(x,{key:1}))]})),_:1})]})),_:1})}var j=n("1da1"),O=(n("96cf"),n("b680"),n("4de4"),n("d867")),g=n("5502"),p=n("6c02"),w=n("c1df"),x=n.n(w),k=n("ff79"),y={class:"custom-skeleton"},C={class:"skeleton-image"},E={class:"skeleton-header"},I={class:"skeleton-button"},M={class:"skeleton-content"};function S(e,t,n,c,i,l){var s=Object(a["B"])("ion-skeleton-text");return Object(a["u"])(),Object(a["e"])("div",y,[Object(a["h"])("div",C,[Object(a["h"])(s,{animated:"",style:{width:"100%","line-height":"30vh"}})]),Object(a["h"])("div",E,[Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"20%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}})]),Object(a["h"])("div",I,[Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"30px","flex-basis":"50%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"30px","flex-basis":"50%"}})]),Object(a["h"])("div",M,[Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"20%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"20%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"20%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"40%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"80%","line-height":"15px","flex-basis":"100%"}}),Object(a["h"])(s,{animated:"",style:{width:"20%","line-height":"15px","flex-basis":"100%"}})])])}var D=Object(a["i"])({name:"SkeletonLoader",components:{IonSkeletonText:O["C"]}});n("44d5");D.render=S;var B=D,z=Object(a["i"])({components:{IonContent:O["g"],IonPage:O["w"],IonIcon:O["m"],IonButton:O["d"],SkeletonLoader:B,IonProgressBar:O["x"]},setup:function(){var e=Object(g["b"])(),t=Object(a["c"])((function(){return e.state.users.user})),c=Object(a["c"])((function(){return e.state.users.events})),i=Object(a["c"])((function(){return e.state.events.event})),l=Object(a["c"])((function(){return e.state.events.status})),s=Object(p["h"])(),r=Object(p["i"])(),u=Object(a["z"])("Upcomming"),o=Object(a["z"])(),d=Object(a["z"])(!1),h=Object(a["z"])(!1),b=Object(a["z"])([]),v=Object(a["z"])([]),m=Object(a["z"])([]),f=Object(a["c"])((function(){return n("5c98")})),w=Object(a["c"])((function(){return n("b69a")})),y=function(e){return e*Math.PI/180},C=function(e,t,n,a){var c=6371,i=y(n-e),l=y(a-t);e=y(e),n=y(n);var s=Math.sin(i/2)*Math.sin(i/2)+Math.sin(l/2)*Math.sin(l/2)*Math.cos(e)*Math.cos(n),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),u=c*r;return u};Object(a["J"])(Object(j["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("load"!==l.value){n.next=5;break}return a=s.params.id,n.next=4,e.dispatch("events/getEvent",a).then((function(e){var n=x()(new Date(e.startDate+" "+e.startTime)).diff(new Date,"minutes"),a=x()(new Date(e.endDate+" "+e.endTime)).diff(new Date,"minutes");o.value=C(t.value.coordinates.latitude,t.value.coordinates.longitude,e.coordinates.latitude,e.coordinates.longitude).toFixed(2),u.value=n>0&&a>0?"Upcomming":n<0&&a>0?"Ongoing":"Ended",d.value=e.attendies.some((function(e){return e.id===t.value.id})),b.value=e.attendies.filter((function(e){return"male"===e.gender})),v.value=e.attendies.filter((function(e){return"female"===e.gender})),m.value=e.attendies.filter((function(e){return"female"!==e.gender&&"male"!==e.gender})),h.value=c.value.some((function(t){return t.id===e.eventId&&!0===t.like}))}));case 4:setTimeout((function(){e.commit("events/eventStatus","idle")}),1e3);case 5:case"end":return n.stop()}}),n)}))));var E=function(){var n=Object(j["a"])(regeneratorRuntime.mark((function n(){var a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(d.value){n.next=7;break}return n.next=3,O["I"].create({cssClass:"confirmation-alert",subHeader:"Event Notification",message:"Please confirm if you are going to attend this event.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(){e.dispatch("events/confirmAttendance",{user:t.value,event:i.value}).then((function(){d.value=!0,b.value=i.value.attendies.filter((function(e){return"male"===e.gender})),v.value=i.value.attendies.filter((function(e){return"female"===e.gender})),m.value=i.value.attendies.filter((function(e){return"female"!==e.gender&&"male"!==e.gender}))}))}}]});case 3:return a=n.sent,n.abrupt("return",a.present());case 7:return n.next=9,O["I"].create({cssClass:"confirmation-alert",subHeader:"Event Notification",message:"Cancelling your attendance to this event?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(){e.dispatch("events/cancelAttendance",{user:t.value,event:i.value}).then((function(){d.value=!1,b.value=i.value.attendies.filter((function(e){return"male"===e.gender})),v.value=i.value.attendies.filter((function(e){return"female"===e.gender})),m.value=i.value.attendies.filter((function(e){return"female"!==e.gender&&"male"!==e.gender}))}))}}]});case 9:return c=n.sent,n.abrupt("return",c.present());case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return h.value=!h.value,n.next=3,e.dispatch("events/likeEvent",{user:t.value,event:i.value,like:h.value}).then((function(){e.commit("users/updateLike",{eventId:i.value.eventId,like:h.value})}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{user:t,event:i,defaultImage:f,starImage:w,moment:x.a,shareSocial:k["t"],thumbsUp:k["u"],book:k["d"],kmaway:o,SkeletonLoader:B,loadEvent:l,eventStatus:u,closeCircle:k["j"],router:r,presentAlert:E,attending:d,likeHandler:I,like:h,userEvents:c,man:k["m"],woman:k["v"],help:k["l"],manCount:b,womanCount:v,unknownCount:m}}});z.render=f;t["default"]=z},a6e7:function(e,t,n){},b69a:function(e,t,n){e.exports=n.p+"img/star.96105818.svg"}}]);
//# sourceMappingURL=chunk-5393569a.cb096bf4.js.map